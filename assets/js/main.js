const $=(selectors,parent=document)=>parent.querySelector(selectors);const authorTemplate=$("template#user");const authorslist=$("#authors");const blacklist=$("#blacklist");(async()=>{let response;try{response=await fetch("");if(!response.ok)throw "Ошибка загрузки данных";}catch(error){authorslist.outerHTML="<p>Ошибка загрузки данных</p>";blacklist.outerHTML="<p>Ошибка загрузки данных</p>";return console.error(error);}
const users=await response.json();users.forEach((user)=>{const element=authorTemplate.content.cloneNode(true);const link=$("a",element);link.href=user.link;const avatar=$("img",element);avatar.src=user.avatar;avatar.alt=user.username;$("strong",element).innerHTML=user.username;const role=$("span",element);role.innerHTML=user.role.name;role.style.color=user.role.color;if(user.role.type==="blacklist"){blacklist.append(element);}else{authorslist.append(element);}});})();